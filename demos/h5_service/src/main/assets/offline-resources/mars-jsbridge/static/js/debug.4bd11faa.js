(window.webpackChunkjsbridge_example=window.webpackChunkjsbridge_example||[]).push([[711],{41022:function(e,t,n){"use strict";var s=n(59394),a=n(63037),r=n(72808),i=n(19161),l=n(21665),c=n(2784),o=(n(28316),n(47933)),d="index-module__header--33xWI",u=n(52322),h=function(){return(0,u.jsx)("div",{className:d,children:(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{className:"link",children:(0,u.jsx)(o.rU,{to:"/call",children:"\u65b9\u6cd5\u8c03\u7528"})}),(0,u.jsx)("li",{className:"link",children:(0,u.jsx)(o.rU,{to:"/event",children:"\u4e8b\u4ef6\u76d1\u542c"})})]})})},v=n(4517),f=n(64659),m=n(4730),p=n(75663),x=n(23427),j=n(2668),g="index-module__page--30gzQ",y="index-module__form--2aZ51",b="index-module__preview--Qykw8",w="index-module__title--pBNtq",C=function(e){(0,p.Z)(n,e);var t=(0,x.Z)(n);function n(e){var s;return(0,f.Z)(this,n),(s=t.call(this,e)).startTime=void 0,s.state={func:"",params:"",response:null,cost:0,callType:"injection"},s.handleMethosChange=function(e){s.setState({func:e.target.value.trim()})},s.handleParamsChange=function(e){s.setState({params:e.target.value.trim()})},s.handleCall=function(e){e.preventDefault();var t=s.state.func;if(t){var n={};if(s.state.params)try{n=JSON.parse(s.state.params)}catch(r){alert(r.stack||r.message)}s.startTime=Date.now(),s.setState({response:null,cost:0});var a="iframe"===s.state.callType?"1":"";j.Z.call(t,n,s.callback,a)}else alert("\u8bf7\u586b\u5199\u65b9\u6cd5\u540d\u79f0")},s.handleCallHandler=function(e){e.preventDefault();var t=s.state.func,n=window.JSBridge[t];if(t)if(n){var a={};if(s.state.params)try{a=JSON.parse(s.state.params)}catch(r){alert(r.stack||r.message)}s.startTime=Date.now(),s.setState({response:null,cost:0}),n(s.callback,a)}else alert("\u8be5handler api\u4e0d\u5b58\u5728");else alert("\u8bf7\u586b\u5199\u65b9\u6cd5\u540d\u79f0")},s.callback=function(e){s.setState({cost:Date.now()-s.startTime,response:e})},s.handleCallTypeChange=function(e){s.setState({callType:e.target.value})},s.startTime=0,s}return(0,m.Z)(n,[{key:"previewContent",get:function(){var e=this.state.params,t={};if(e)try{t=JSON.parse(e)}catch(n){return n.stack||n.message}return JSON.stringify({func:this.state.func,params:t,response:this.state.response},null,3)}},{key:"render",value:function(){return(0,u.jsxs)("div",{className:g,children:[(0,u.jsxs)("form",{className:y,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"\u300a\u666e\u901a\u8c03\u7528\u300b\u7684\u8c03\u7528\u65b9\u5f0f"}),(0,u.jsxs)("select",{onChange:this.handleCallTypeChange,value:this.state.callType,children:[(0,u.jsx)("option",{value:"injection",children:"\u4f18\u5148\u901a\u8fc7\u6ce8\u5165API\u8c03\u7528\uff0cAPI\u4e0d\u5b58\u5728fallback\u81f3iframe"}),(0,u.jsx)("option",{value:"iframe",children:"\u901a\u8fc7iframe\u8c03\u7528"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"\u65b9\u6cd5\u540d\u79f0"}),(0,u.jsx)("input",{value:this.state.func,onChange:this.handleMethosChange})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"\u8c03\u7528\u53c2\u6570"}),(0,u.jsx)("textarea",{value:this.state.params,onChange:this.handleParamsChange})]}),(0,u.jsx)("button",{type:"button",onClick:this.handleCall,children:"\u666e\u901a\u8c03\u7528"})]}),(0,u.jsxs)("div",{className:b,children:[(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("p",{children:"\u9884\u89c8"}),this.state.cost?(0,u.jsxs)("p",{children:[this.state.cost," ms"]}):null]}),(0,u.jsx)("pre",{children:(0,u.jsx)("code",{children:this.state.response?this.previewContent:""})})]})]})}}]),n}(c.Component);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function S(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k="index-module__page--dHyf6",Z="index-module__form--2Bg8M",N="index-module__preview--3lkGL",_="index-module__title--3ocEC",A=function(e){(0,p.Z)(n,e);var t=(0,x.Z)(n);function n(e){var s;return(0,f.Z)(this,n),(s=t.call(this,e)).state={event:"",listenedEvents:[],receivedEvents:[]},s.handleEventChange=function(e){s.setState({event:e.target.value.trim()})},s.handleSubscribe=function(e){e.preventDefault();var t=s.state.event;if(t){var n=j.Z.on(t,s.createEventListener(t)),a=[].concat(S(s.state.listenedEvents),[{callbackId:n,event:t}]);s.setState({listenedEvents:a})}else alert("\u8bf7\u586b\u5199\u4e8b\u4ef6\u540d\u79f0")},s.handleUnsubscribe=function(e){e.preventDefault();var t=s.state.event;if(t){var n=[],a=!1;s.state.listenedEvents.forEach((function(e){e.event!==t||a?n.push(e):(j.Z.off(e.event,e.callbackId),a=!0)})),s.setState({listenedEvents:n})}else alert("\u8bf7\u586b\u5199\u4e8b\u4ef6\u540d\u79f0")},s.createEventListener=function(e){return function(t){var n=[].concat(S(s.state.receivedEvents),[{event:e,params:t}]);s.setState({receivedEvents:n})}},s}return(0,m.Z)(n,[{key:"componentWillUnmount",value:function(){this.state.listenedEvents.forEach((function(e){var t=e.callbackId,n=e.event;j.Z.off(n,t)}))}},{key:"listenedEvents",get:function(){return this.state.listenedEvents.map((function(e){return e.event})).join("\n")}},{key:"receivedEvents",get:function(){return this.state.receivedEvents.map((function(e){return JSON.stringify(e,null,3)})).join("\n")}},{key:"render",value:function(){return(0,u.jsxs)("div",{className:k,children:[(0,u.jsxs)("form",{className:Z,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"\u4e8b\u4ef6\u540d\u79f0"}),(0,u.jsx)("input",{value:this.state.event,onChange:this.handleEventChange})]}),(0,u.jsx)("button",{type:"button",onClick:this.handleSubscribe,children:"\u76d1\u542c\u4e8b\u4ef6"}),(0,u.jsx)("button",{type:"button",onClick:this.handleUnsubscribe,children:"\u89e3\u9664\u76d1\u542c"})]}),(0,u.jsxs)("div",{className:N,children:[(0,u.jsx)("div",{className:_,children:(0,u.jsx)("p",{children:"\u4e8b\u4ef6\u76d1\u542c\u5217\u8868"})}),(0,u.jsx)("pre",{children:(0,u.jsx)("code",{children:this.listenedEvents})})]}),(0,u.jsxs)("div",{className:N,children:[(0,u.jsx)("div",{className:_,children:(0,u.jsx)("p",{children:"\u4e8b\u4ef6\u6d88\u606f\u6d41"})}),(0,u.jsx)("pre",{children:(0,u.jsx)("code",{children:this.receivedEvents})})]})]})}}]),n}(c.Component),T=function(){return(0,u.jsxs)("div",{className:"Content",children:[(0,u.jsx)(v.AW,{exact:!0,path:"/",component:C}),(0,u.jsx)(v.AW,{path:"/call",component:C}),(0,u.jsx)(v.AW,{path:"/event",component:A})]})},O=(n(13433),function(){return(0,u.jsx)(o.UT,{children:(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{}),(0,u.jsx)(T,{})]})})}),I=null;!function(){var e,t,n,c;I=(0,a.O0)({plugins:[(0,r.Z)((0,s.Z)({basename:"/debug",getRouterBaseName:null},(0,s.Z)((0,s.Z)({},void 0),null===O||void 0===O||null===(e=O.config)||void 0===e||null===(t=e.features)||void 0===t?void 0:t.router))),(0,i.ZP)((0,s.Z)((0,s.Z)((0,s.Z)({},{models:null===O||void 0===O?void 0:O.models,plugins:[l.Z]}),!0),null===O||void 0===O||null===(n=O.config)||void 0===n||null===(c=n.features)||void 0===c?void 0:c.state))]})(O),(0,a.Ux)(I,"root")}()},13433:function(){window.remAdapterConf={width:375},function(){var e={reset:function(){var e=window.remAdapterConf||{},t=e.width||750,n="undefined"===typeof e.restrict||e.restrict?Math.min(document.documentElement.clientWidth,750)/t*100:document.documentElement.clientWidth/t*100;document.documentElement.style.fontSize="".concat(n,"px");try{var s=n/parseFloat(window.getComputedStyle(document.documentElement).fontSize||String(n));if(1===s)return;document.documentElement.style.fontSize="".concat(n*s,"px")}catch(a){}}};e.reset(),window.addEventListener("load",(function(){e.reset()})),window.addEventListener("resize",(function(){e.reset()})),window.remAdapter=e}()},2784:function(e,t,n){"use strict";e.exports=n(83426)}},function(e){"use strict";var t=function(t){return e(e.s=t)};e.O(0,[985,668],(function(){return t(1939),t(41022)}));e.O()}]);
//# sourceMappingURL=debug.4bd11faa.js.map